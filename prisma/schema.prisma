generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                String                  @id @unique @default(uuid())
  isActive          Boolean                 @default(false)
  createdAt         DateTime                @default(now())
  fullName          String
  countryId         String                  
  country           Countries               @relation(fields: [countryId], references: [id])          
  email             String                  @unique
  hashedPassword    String
  dateOfBirth       DateTime
  isPaidUser        Boolean                 @default(false)
  gender            Gender                  @default(unknown)
  role              UserRole                @default(paid)
}


model Employee {
  id                String                  @id @unique @default(uuid())
  isActive          Boolean                 @default(false)
  createdAt         DateTime                @default(now())
  fullName          String
  email             String                  @unique
  hashedPassword    String
  dateOfBirth       DateTime
  employeeNumber    Int                     @unique
  jobTitle          EmployeeRole            @default(NOT_ASSIGNED)
  countryId         String                  
  country           Countries               @relation(fields: [countryId], references: [id])          
  gender            Gender                  @default(unknown)
}

enum Gender {
  male
  female
  other
  unknown
}

enum EmployeeRole {
  ADMIN
  PROGRAMMER
  CUSTOMER_SUPPORT
  NOT_ASSIGNED
}

model Countries {
  id                    String          @id @unique @default(uuid())
  countryNamePt         String          @unique 
  countryNameEn         String          @unique  
  CoutryFlag            String
  users                 User[]
  employees             Employee[]
}

enum UserRole {
  notPaid
  paid
}

model Currency {
  id              String   @id @default(uuid())
  code            String   @unique
  symbol          String
  name            String
  symbol_native   String
  decimal_digits  Int
  rounding        Int
  name_plural     String
  type            String
  rate            Float
}